events { worker_connections 1024; }
http {
    include /etc/nginx/mime.types;
    upstream backend { server backend:8001; }
    upstream frontend { server frontend:80; }
    server {
        listen 80;
        client_max_body_size 50M;
        location /api/ { proxy_pass http://backend; proxy_set_header Host $host; }
        location /health { proxy_pass http://backend; }
        location / { proxy_pass http://frontend; proxy_set_header Host $host; }
    }
}
